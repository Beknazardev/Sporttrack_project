<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>SportTrack ‚Äî –ö–∞–±–∏–Ω–µ—Ç —Ç—Ä–µ–Ω–µ—Ä–∞</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body class="coach-body">

<header class="top-bar">
    <div class="top-bar__logo">SportTrack</div>

    <div class="top-bar__user">
        <span class="top-bar__role-badge">–¢—Ä–µ–Ω–µ—Ä</span>
        <span id="coachNameTop" class="top-bar__name">–ò–º—è —Ç—Ä–µ–Ω–µ—Ä–∞</span>
    </div>
</header>

<main class="coach-layout">
    <!-- –õ–ï–í–ê–Ø –ö–ê–†–¢–û–ß–ö–ê –¢–†–ï–ù–ï–†–ê -->
    <section class="panel coach-card">
        <div class="coach-card__top">
            <div class="coach-avatar">
                <span id="avatarLetter" class="coach-avatar__text">T</span>
            </div>

            <div class="coach-card__info">
                <h1 id="coachName" class="coach-name">–ò–º—è —Ç—Ä–µ–Ω–µ—Ä–∞</h1>
                <p id="coachStatus" class="coach-status">–°—Ç–∞—Ç—É—Å: –∞–∫—Ç–∏–≤–µ–Ω</p>

                <button id="editProfileBtn" class="btn-link">
                    –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å
                </button>
            </div>
        </div>

        <div class="coach-card__extra">
            <div class="coach-info-row">
                <span class="coach-label">ID:</span>
                <span id="coachIdValue">‚Äî</span>
            </div>
            <div class="coach-info-row">
                <span class="coach-label">Email:</span>
                <span id="coachEmailValue">‚Äî</span>
            </div>
        </div>
    </section>

    <!-- –ü–†–ê–í–û: –ö–ù–û–ü–ö–ò 2√ó2 -->
    <section class="coach-menu">
        <a href="coach_athletes.html" class="coach-menu__item">
            <div class="coach-menu__icon">üëü</div>
            <div class="coach-menu__text">
                <div class="coach-menu__title">–°–ø–æ—Ä—Ç—Å–º–µ–Ω—ã</div>
                <div class="coach-menu__sub">–°–ø–∏—Å–æ–∫ –∏ –≤—ã–±–æ—Ä —Å–ø–æ—Ä—Ç—Å–º–µ–Ω–æ–≤</div>
            </div>
        </a>

        <a href="coach_tasks.html" class="coach-menu__item">
            <div class="coach-menu__icon">üìù</div>
            <div class="coach-menu__text">
                <div class="coach-menu__title">–ó–∞–¥–∞—á–∏</div>
                <div class="coach-menu__sub">–í—ã–¥–∞—Ç—å –∑–∞–¥–∞–Ω–∏—è –≤—ã–±—Ä–∞–Ω–Ω—ã–º</div>
            </div>
        </a>

        <a href="coach_plans.html" class="coach-menu__item">
            <div class="coach-menu__icon">üìÖ</div>
            <div class="coach-menu__text">
                <div class="coach-menu__title">–ü–ª–∞–Ω—ã —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>
                <div class="coach-menu__sub">–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–æ –¥–Ω—è–º –∏ —É—Ä–æ–≤–Ω—è–º</div>
            </div>
        </a>

        <a href="coach_notifications.html" class="coach-menu__item">
            <div class="coach-menu__icon">üîî</div>
            <div class="coach-menu__text">
                <div class="coach-menu__title">–û–ø–æ–≤–µ—â–µ–Ω–∏—è</div>
                <div class="coach-menu__sub">–û—Ç—á—ë—Ç—ã, –∑–∞–ø—Ä–æ—Å—ã, —Å—Ç–∞—Ç—É—Å—ã</div>
            </div>
        </a>
    </section>
</main>

<script>
    // –ë–µ—Ä—ë–º –¥–∞–Ω–Ω—ã–µ –ø–æ—Å–ª–µ –ª–æ–≥–∏–Ω–∞, –µ—Å–ª–∏ —Ç—ã –∏—Ö —Ç—É–¥–∞ –∫–ª–∞–¥—ë—à—å
    const rawUser = localStorage.getItem("user");

    if (rawUser) {
        try {
            const user = JSON.parse(rawUser);

            document.getElementById("coachNameTop").textContent =
                user.username || "–¢—Ä–µ–Ω–µ—Ä";

            document.getElementById("coachName").textContent =
                user.username || "–¢—Ä–µ–Ω–µ—Ä";

            document.getElementById("coachStatus").textContent =
                user.is_active === false ? "–°—Ç–∞—Ç—É—Å: –Ω–µ–∞–∫—Ç–∏–≤–µ–Ω" : "–°—Ç–∞—Ç—É—Å: –∞–∫—Ç–∏–≤–µ–Ω";

            document.getElementById("coachIdValue").textContent =
                user.id ?? "‚Äî";

            document.getElementById("coachEmailValue").textContent =
                user.email ?? "‚Äî";

            const first = (user.username || "").trim()[0];
            if (first) {
                document.getElementById("avatarLetter").textContent = first.toUpperCase();
            }
        } catch (e) {
            console.error("–û—à–∏–±–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ user –∏–∑ localStorage", e);
        }
    }

    // –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª—è (—Å–æ–∑–¥–∞—à—å —Å–∞–º)
    document.getElementById("editProfileBtn").addEventListener("click", () => {
        window.location.href = "coach_profile_edit.html";
    });
</script>

</body>
</html>
